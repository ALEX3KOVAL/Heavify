{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport VueRouter from \"vue-router\";\nconst {\n  isNavigationFailure,\n  NavigationFailureType\n} = VueRouter;\nimport TheHeadingButton from \"@/components/heading/HeadingButton.vue\";\nimport TheAuthorizationForm from \"@/components/authorizationForm/TheAuthorizationForm.vue\";\nimport TheSideBar from \"@/components/sidebar/TheSideBar.vue\";\nimport { AUTH_ROUTE, HOME_ROUTE } from \"../../utils/consts\";\nimport PictureService from \"../../services/picture\";\nexport default {\n  components: {\n    TheSideBar,\n    TheHeadingButton,\n    TheAuthorizationForm\n  },\n  props: {\n    width: {\n      type: Number,\n      required: true\n    }\n  },\n  data: () => ({\n    headerPath: \"\",\n    isHeaderTitleVisible: false,\n    buttonColor: \"white\",\n    headerClassVisibility: \"\",\n    tmpOffset: 0\n  }),\n  methods: {\n    hideAuthorizationForm() {// this.$refs.theAuthorizationForm.hide();\n    },\n\n    toggleSideBarVisible() {\n      this.$refs.theSideBar.toggleVisible();\n    },\n\n    auth() {\n      this.$router.push({\n        path: AUTH_ROUTE,\n        query: {\n          redirect: HOME_ROUTE\n        }\n      }).catch(e => {\n        if (!isNavigationFailure(e, NavigationFailureType.redirected)) {\n          Promise.reject(e);\n        }\n      });\n    },\n\n    checkScrollState(topOffset) {\n      console.log(topOffset);\n      const res = topOffset - this.tmpOffset;\n\n      if (topOffset === 0) {\n        this.headerClassVisibility = topOffset === 0 ? \"\" : this.headerClassVisibility;\n        console.log(\"ZZEROO\");\n      } else {\n        this.headerClassVisibility = res > 0 ? \"header--hidden\" : \"header--active\";\n      }\n\n      this.tmpOffset = topOffset;\n      console.log(this.headerClassVisibility);\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;EAAAA;EAAAC;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAC;IACAC,UADA;IAEAC,gBAFA;IAGAC;EAHA,CADA;EAMAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CANA;EAYAC;IACAC,cADA;IAEAC,2BAFA;IAGAC,oBAHA;IAIAC,yBAJA;IAKAC;EALA,EAZA;EAmBAC;IACAC,yBACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOAC;MACA;QAAAC;QAAAC;UAAAC;QAAA;MAAA;QACA;UACAC;QACA;MACA,CAJA;IAKA,CAbA;;IAcAC;MACAC;MACA;;MACA;QACA;QACAA;MACA,CAHA,MAIA;QACA;MACA;;MACA;MACAA;IACA;;EA1BA;AAnBA","names":["isNavigationFailure","NavigationFailureType","components","TheSideBar","TheHeadingButton","TheAuthorizationForm","props","width","type","required","data","headerPath","isHeaderTitleVisible","buttonColor","headerClassVisibility","tmpOffset","methods","hideAuthorizationForm","toggleSideBarVisible","auth","path","query","redirect","Promise","checkScrollState","console"],"sourceRoot":"src/components/heading","sources":["TheHeading.vue"],"sourcesContent":["<template>\r\n  <header :class=\"`header ${headerClassVisibility}`\">\r\n    <the-heading-button\r\n        @onClick=\"toggleSideBarVisible\"\r\n    >\r\n      <v-icon size=\"220%\">\r\n        {{\"mdi-menu\"}}\r\n      </v-icon>\r\n    </the-heading-button>\r\n    <h1 class=\"header__title\">\r\n      Heavify\r\n    </h1>\r\n      <the-heading-button\r\n          :icon-name=\"`mdi-login-variant`\"\r\n          @authorizationFormNoNeeded=\"hideAuthorizationForm\"\r\n          @onClick=\"auth\"\r\n      >\r\n        <svg\r\n          @mouseover=\"buttonColor='pink'\"\r\n          @mouseout=\"buttonColor='white'\"\r\n          x=\"0px\"\r\n          y=\"0px\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n          viewBox=\"-4 -9 39 44\"\r\n          xml:space=\"preserve\"\r\n          width=\"10%\"\r\n          height=\"20%\"\r\n        >\r\n          <path :fill=\"buttonColor\" d=\"M25.9,16.5c-0.9-0.8-1.9-1.4-3.1-1.9c-0.5-0.2-1.1,0-1.3,0.5s0,1.1,0.5,1.3c1,0.4,1.9,1,2.6,1.6\r\n            c0.9,0.8,1.4,1.9,1.4,3V23c0,0.6-0.5,1-1,1H5c-0.6,0-1-0.5-1-1v-1.9c0-1.2,0.5-2.3,1.4-3c1-0.9,4-3,9.6-3c4.1,0,7.5-3.4,7.5-7.5\r\n            S19.1,0,15,0S7.5,3.4,7.5,7.5c0,2.4,1.2,4.6,2.9,6c-3.3,0.7-5.3,2.1-6.4,3C2.8,17.7,2,19.3,2,21.1V23c0,1.7,1.4,3,3,3H25\r\n            c1.7,0,3-1.4,3-3v-1.9C28,19.3,27.2,17.7,25.9,16.5z M9.5,7.5C9.5,4.5,12,2,15,2s5.5,2.5,5.5,5.5S18,13,15,13S9.5,10.5,9.5,7.5z\" />\r\n</svg>\r\n      </the-heading-button>\r\n    <the-side-bar ref=\"theSideBar\"/>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport VueRouter from \"vue-router\";\r\nconst {isNavigationFailure, NavigationFailureType} = VueRouter;\r\nimport TheHeadingButton from \"@/components/heading/HeadingButton.vue\";\r\nimport TheAuthorizationForm from \"@/components/authorizationForm/TheAuthorizationForm.vue\";\r\nimport TheSideBar from \"@/components/sidebar/TheSideBar.vue\";\r\nimport {AUTH_ROUTE, HOME_ROUTE} from \"../../utils/consts\";\r\nimport PictureService from \"../../services/picture\";\r\n\r\nexport default {\r\n  components: {\r\n    TheSideBar,\r\n    TheHeadingButton,\r\n    TheAuthorizationForm\r\n  },\r\n  props: {\r\n    width: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n  },\r\n  data: () => ({\r\n    headerPath: \"\",\r\n    isHeaderTitleVisible: false,\r\n    buttonColor: \"white\",\r\n    headerClassVisibility: \"\",\r\n    tmpOffset: 0\r\n  }),\r\n  methods: {\r\n    hideAuthorizationForm() {\r\n      // this.$refs.theAuthorizationForm.hide();\r\n    },\r\n    toggleSideBarVisible() {\r\n      this.$refs.theSideBar.toggleVisible();\r\n    },\r\n    auth() {\r\n      this.$router.push({path: AUTH_ROUTE, query: {redirect: HOME_ROUTE}}).catch((e) => {\r\n            if (!isNavigationFailure(e, NavigationFailureType.redirected)) {\r\n              Promise.reject(e)\r\n            }\r\n      });\r\n    },\r\n    checkScrollState(topOffset) {\r\n      console.log(topOffset);\r\n      const res = topOffset - this.tmpOffset;\r\n      if (topOffset === 0) {\r\n        this.headerClassVisibility = topOffset === 0 ? \"\" : this.headerClassVisibility;\r\n        console.log(\"ZZEROO\");\r\n      }\r\n      else {\r\n        this.headerClassVisibility = res > 0 ? \"header--hidden\" : \"header--active\";\r\n      }\r\n      this.tmpOffset = topOffset;\r\n      console.log(this.headerClassVisibility);\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}