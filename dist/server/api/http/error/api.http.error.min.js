import jwt from"jsonwebtoken";function ErrorAPI(r,o,e=[]){var t=o,o=new Error(o),n=r,E=e;return Object.setPrototypeOf(o,ErrorAPI.prototype),ErrorAPI.prototype.getMessage=()=>t,ErrorAPI.prototype.getStatus=()=>n,ErrorAPI.prototype.getErrors=()=>E,o}ErrorAPI.prototype=Object.create(Error.prototype,{name:{value:"ErrorAPI",enumerable:!1}}),ErrorAPI.notImplemented=(r="Данное поведение не предусмотрено сервером",o=[])=>new ErrorAPI(501,r,o),ErrorAPI.badRequest=(r="Некорректный запрос",o=[])=>new ErrorAPI(400,r,o),ErrorAPI.unauthorized=(r="Недостаточно прав",o=[])=>new ErrorAPI(401,r,o),ErrorAPI.internal=(r="Что-то пошло не так...",o=[])=>new ErrorAPI(500,r,o),ErrorAPI.forbidden=(r="Доступ к запрашиваемому ресурсу запрещён",o=[])=>new ErrorAPI(403,r,o),ErrorAPI.conflict=(r="Возник конфликт с сервером",o=[])=>new ErrorAPI(409,r,o),ErrorAPI.identify=r=>r instanceof jwt.JsonWebTokenError?ErrorAPI.forbidden():r instanceof jwt.TokenExpiredError?ErrorAPI.forbidden("Жизненный цикл токена истёк"):ErrorAPI.internal();export{ErrorAPI};